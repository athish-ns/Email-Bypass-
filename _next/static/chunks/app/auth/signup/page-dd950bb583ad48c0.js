(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{8042:function(e,t,s){Promise.resolve().then(s.bind(s,9485))},9485:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Signup}});var r=s(7437),n=s(2164),o=s(7185),a=s(911),i=s(9641),u=s(1623),l=s(1154),c=s(4187),d=s(1989),p=s(7328),m=s(1686),h=s(3398),f=s(3042),g=s(3588),w=s(4033),x=s(5029),j=s(1525),v=s(9169),b=s.n(v);function Signup(){let e=(0,w.useRouter)(),t=(0,f.c)({initialValues:{username:"",password:"",confirmPassword:""},validate:{username:e=>e.trim().length<3?"Username is too short":null,password:e=>e.trim().length<6?"Password is too short":null,confirmPassword:e=>e!==t.values.password?"Password does not match":null}}),{mutate:s,isPending:v}=(0,g.D)({mutationFn:j.IU,mutationKey:["authSignup"],onSuccess:()=>{x.N9.show({title:"Success",message:"Account created successfully",color:"green"}),e.push("/login.html")},onError:e=>{if((0,n.IZ)(e)){var t;x.N9.show({title:"Error",message:null===(t=e.response)||void 0===t?void 0:t.data.message,color:"red"})}}});return(0,r.jsxs)(o.W,{size:420,my:40,children:[(0,r.jsx)(a.D,{ta:"center",className:b().title,children:"Welcome!"}),(0,r.jsxs)(i.x,{c:"dimmed",size:"sm",ta:"center",mt:5,children:["Already have an account?"," ",(0,r.jsx)(u.e,{size:"sm",component:"a",href:"/login.html",children:"Sign in"})]}),(0,r.jsxs)(l.x,{pos:"relative",children:[(0,r.jsx)(c.f,{visible:v,zIndex:1e3,overlayProps:{radius:"sm",blur:2}}),(0,r.jsx)("form",{onSubmit:t.onSubmit(e=>{s({username:e.username,password:e.password})}),children:(0,r.jsxs)(d.X,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md",children:[(0,r.jsx)(p.o,{label:"Username",placeholder:"username",required:!0,...t.getInputProps("username")}),(0,r.jsx)(m.W,{label:"Password",placeholder:"Your password",required:!0,mt:"md",...t.getInputProps("password")}),(0,r.jsx)(m.W,{label:"Confirm Password",placeholder:"Your password",required:!0,mt:"md",...t.getInputProps("confirmPassword")}),(0,r.jsx)(h.z,{fullWidth:!0,mt:"xl",type:"submit",children:"Sign up"})]})})]})]})}},1525:function(e,t,s){"use strict";s.d(t,{IU:function(){return signup},kS:function(){return logout},me:function(){return me},x4:function(){return login}});var r=s(155);let n=(0,r.Z)("/api/v1/auth"),login=async e=>{let t=await n.post("/login",e);return t.data},signup=async e=>{let t=await n.post("/signup",e);return t.data},logout=async()=>{let e=await n.post("/logout");return e.data},me=async()=>{let e=await n.get("/me");return e.data}},155:function(e,t,s){"use strict";s.d(t,{n:function(){return a}});var r=s(2173);let n="https://api.ezobypass.com";if(!n)throw Error("No Api apiBaseUrl");let o=Number("10000")||5e3,a=n;r.default.defaults.headers.post["Content-Type"]="application/json",t.Z=e=>{let t=r.default.create({baseURL:"".concat(n,"/").concat(e.replace(/^\//,"")),timeout:o,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(async e=>{let t=sessionStorage.getItem("accessToken");return t&&e.headers.set("Authorization",t.replace(/(^")|("$)/g,"")),e},e=>Promise.reject(e)),t}},9169:function(e){e.exports={title:"Login_title__vEPdR"}},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[27,873,245,215,971,472,744],function(){return e(e.s=8042)}),_N_E=e.O()}]);