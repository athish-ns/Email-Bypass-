(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{2356:function(e,n,o){Promise.resolve().then(o.bind(o,9248))},9248:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return Login}});var s=o(7437),u=o(2164),i=o(7185),c=o(911),l=o(9641),d=o(1623),f=o(1154),m=o(4187),v=o(1989),g=o(7328),S=o(1686),w=o(3398),b=o(3042),y=o(3588),E=o(9910),x=o(5029),j=o(1536),I=o(1525),k=o(9169),z=o.n(k);function Login(){let e=(0,E.L)(e=>e.setUser),n=(0,E.L)(e=>e.setPlan),[,o]=(0,j.X)({key:"accessToken"}),k=(0,b.c)({initialValues:{username:"",password:""},validate:{username:e=>e.trim().length<3?"Username is too short":null,password:e=>e.trim().length<6?"Password is too short":null}}),{mutate:O,isPending:C}=(0,y.D)({mutationFn:I.x4,mutationKey:["authLogin"],onSuccess:s=>{e({username:s.user.username,id:s.user.id}),n(s.plan),o(s.accessToken),x.N9.show({title:"Success",message:"Logged in successfully",color:"green"})},onError:e=>{if((0,u.IZ)(e)){var n;x.N9.show({title:"Error",message:null===(n=e.response)||void 0===n?void 0:n.data.message,color:"red"})}}});return(0,s.jsxs)(i.W,{size:420,my:40,children:[(0,s.jsx)(c.D,{ta:"center",className:z().title,children:"Welcome back!"}),(0,s.jsxs)(l.x,{c:"dimmed",size:"sm",ta:"center",mt:5,children:["Do not have an account yet?"," ",(0,s.jsx)(d.e,{size:"sm",component:"a",href:"/signup.html",children:"Create account"})]}),(0,s.jsxs)(f.x,{pos:"relative",children:[(0,s.jsx)(m.f,{visible:C,zIndex:1e3,overlayProps:{radius:"sm",blur:2}}),(0,s.jsx)("form",{onSubmit:k.onSubmit(e=>{O(e)}),children:(0,s.jsxs)(v.X,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md",children:[(0,s.jsx)(g.o,{label:"Username",placeholder:"username",required:!0,...k.getInputProps("username")}),(0,s.jsx)(S.W,{label:"Password",placeholder:"Your password",required:!0,mt:"md",...k.getInputProps("password")}),(0,s.jsx)(w.z,{fullWidth:!0,mt:"xl",type:"submit",children:"Sign in"})]})})]})]})}},1525:function(e,n,o){"use strict";o.d(n,{IU:function(){return signup},kS:function(){return logout},me:function(){return me},x4:function(){return login}});var s=o(155);let u=(0,s.Z)("/api/v1/auth"),login=async e=>{let n=await u.post("/login",e);return n.data},signup=async e=>{let n=await u.post("/signup",e);return n.data},logout=async()=>{let e=await u.post("/logout");return e.data},me=async()=>{let e=await u.get("/me");return e.data}},155:function(e,n,o){"use strict";o.d(n,{n:function(){return c}});var s=o(2173);let u="https://api.ezobypass.com";if(!u)throw Error("No Api apiBaseUrl");let i=Number("10000")||5e3,c=u;s.default.defaults.headers.post["Content-Type"]="application/json",n.Z=e=>{let n=s.default.create({baseURL:"".concat(u,"/").concat(e.replace(/^\//,"")),timeout:i,headers:{"Content-Type":"application/json"}});return n.interceptors.request.use(async e=>{let n=sessionStorage.getItem("accessToken");return n&&e.headers.set("Authorization",n.replace(/(^")|("$)/g,"")),e},e=>Promise.reject(e)),n}},9910:function(e,n,o){"use strict";o.d(n,{L:function(){return u}});var s=o(4660);o(7960);let u=(0,s.Ue)(e=>({setUser:n=>e(e=>({...e,user:n})),setPlan:n=>e(e=>({...e,plan:n}))}))},9169:function(e){e.exports={title:"Login_title__vEPdR"}},7960:function(e,n,o){"use strict";o(2265),o(4040)},1853:function(e,n,o){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=o(2265);function h(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n}var u="function"==typeof Object.is?Object.is:h,i=s.useState,c=s.useEffect,l=s.useLayoutEffect,d=s.useDebugValue;function q(e,n){var o=n(),s=i({inst:{value:o,getSnapshot:n}}),u=s[0].inst,f=s[1];return l(function(){u.value=o,u.getSnapshot=n,r(u)&&f({inst:u})},[e,o,n]),c(function(){return r(u)&&f({inst:u}),e(function(){r(u)&&f({inst:u})})},[e]),d(o),o}function r(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!u(e,o)}catch(e){return!0}}function t(e,n){return n()}var f="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?t:q;n.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:f},8704:function(e,n,o){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=o(2265),u=o(6272);function p(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n}var i="function"==typeof Object.is?Object.is:p,c=u.useSyncExternalStore,l=s.useRef,d=s.useEffect,f=s.useMemo,m=s.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,o,s,u){var v=l(null);if(null===v.current){var g={hasValue:!1,value:null};v.current=g}else g=v.current;var S=c(e,(v=f(function(){function a(n){if(!l){if(l=!0,e=n,n=s(n),void 0!==u&&g.hasValue){var o=g.value;if(u(o,n))return c=o}return c=n}if(o=c,i(e,n))return o;var d=s(n);return void 0!==u&&u(o,d)?o:(e=n,c=d)}var e,c,l=!1,d=void 0===o?null:o;return[function(){return a(n())},null===d?void 0:function(){return a(d())}]},[n,o,s,u]))[0],v[1]);return d(function(){g.hasValue=!0,g.value=S},[S]),m(S),S}},6272:function(e,n,o){"use strict";e.exports=o(1853)},5401:function(e,n,o){"use strict";e.exports=o(8704)},1536:function(e,n,o){"use strict";o.d(n,{X:function(){return useSessionStorage}});var s=o(2265),u=o(853);function serializeJSON(e,n){try{return JSON.stringify(e)}catch(e){throw Error(`@mantine/hooks ${n}: Failed to serialize the value`)}}function deserializeJSON(e){try{return e&&JSON.parse(e)}catch(n){return e}}function createStorageHandler(e){return{getItem:n=>{try{return window[e].getItem(n)}catch(e){return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(n,o)=>{try{window[e].setItem(n,o)}catch(e){console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:n=>{try{window[e].removeItem(n)}catch(e){console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function createStorage(e,n){let o="localStorage"===e?"mantine-local-storage":"mantine-session-storage",{getItem:i,setItem:c,removeItem:l}=createStorageHandler(e);return function({key:d,defaultValue:f,getInitialValueInEffect:m=!0,deserialize:v=deserializeJSON,serialize:g=e=>serializeJSON(e,n)}){let S=(0,s.useCallback)(n=>{let o;try{o="undefined"==typeof window||!(e in window)||null===window[e]||!!n}catch(e){o=!0}if(o)return f;let s=i(d);return null!==s?v(s):f},[d,f]),[w,b]=(0,s.useState)(S(m)),y=(0,s.useCallback)(e=>{e instanceof Function?b(n=>{let s=e(n);return c(d,g(s)),window.dispatchEvent(new CustomEvent(o,{detail:{key:d,value:e(n)}})),s}):(c(d,g(e)),window.dispatchEvent(new CustomEvent(o,{detail:{key:d,value:e}})),b(e))},[d]),E=(0,s.useCallback)(()=>{l(d),window.dispatchEvent(new CustomEvent(o,{detail:{key:d,value:f}}))},[]);return(0,u.s)("storage",n=>{var o;n.storageArea===window[e]&&n.key===d&&b(v(null!=(o=n.newValue)?o:void 0))}),(0,u.s)(o,e=>{e.detail.key===d&&b(e.detail.value)}),(0,s.useEffect)(()=>{void 0!==f&&void 0===w&&y(f)},[f,w,y]),(0,s.useEffect)(()=>{m&&b(S())},[]),[void 0===w?f:w,y,E]}}function useSessionStorage(e){return createStorage("sessionStorage","use-session-storage")(e)}},853:function(e,n,o){"use strict";o.d(n,{s:function(){return useWindowEvent}});var s=o(2265);function useWindowEvent(e,n,o){(0,s.useEffect)(()=>(window.addEventListener(e,n,o),()=>window.removeEventListener(e,n,o)),[e,n])}},4660:function(e,n,o){"use strict";o.d(n,{Ue:function(){return create}});let createStoreImpl=e=>{let n;let o=new Set,setState=(e,s)=>{let u="function"==typeof e?e(n):e;if(!Object.is(u,n)){let e=n;n=(null!=s?s:"object"!=typeof u)?u:Object.assign({},n,u),o.forEach(o=>o(n,e))}},getState=()=>n,s={setState,getState,subscribe:e=>(o.add(e),()=>o.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}};return n=e(setState,getState,s),s},createStore=e=>e?createStoreImpl(e):createStoreImpl;var s=o(2265),u=o(5401);let{useDebugValue:i}=s,{useSyncExternalStoreWithSelector:c}=u,l=!1;function useStore(e,n=e.getState,o){o&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let s=c(e.subscribe,e.getState,e.getServerState||e.getState,n,o);return i(s),s}let createImpl=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let n="function"==typeof e?createStore(e):e,useBoundStore=(e,o)=>useStore(n,e,o);return Object.assign(useBoundStore,n),useBoundStore},create=e=>e?createImpl(e):createImpl}},function(e){e.O(0,[27,873,245,215,971,472,744],function(){return e(e.s=2356)}),_N_E=e.O()}]);